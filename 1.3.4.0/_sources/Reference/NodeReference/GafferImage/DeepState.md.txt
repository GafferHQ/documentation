DeepState
=========

Modifies the samples of a deep image so that the composited result
stays the same, but there are additional desirable properties,
such as being sorted, non-overlapping, or being combined into a
single sample.

user
----

Container for user-defined plugs. Nodes
should never make their own plugs here,
so users are free to do as they wish.

out
---

The output image generated by this node.

enabled
-------

Turns the node on and off.

in
--

The input image data.

deepState
---------

The desired state.
"Sorted" merely orders the samples.
"Tidy" performs sorting, splitting, and merging, to produce non-overlapping
samples, and optionally prunes useless samples.
"Flat" composites samples into a single sample per pixel.

pruneTransparent
----------------

When tidying, omits fully transparent samples.  This is usually just an optimization,
but it could affect the composited result if you start with purely additive samples that have
zero alpha, but still add to the color.

pruneOccluded
-------------

When tidying, omits samples which are blocked by samples in front of them ( occluded samples
have no effect on the composited result.

occludedThreshold
-----------------

How blocked does a sample have to be before it is omitted.  By default, only 100% occluded samples
are omitted, but if you select 0.99, then samples with only 1% visibility would also be omitted.
The composited result is preserved by combining the values of any omitted samples with the last
sample generated.  Using a threshold lower than 0.99 before doing a DeepMerge or DeepHoldout
could introduce large errors, however.